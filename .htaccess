RewriteEngine On

# Rediriger toutes les requêtes vers le dossier public (sauf les fichiers PHP à la racine)
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_URI} !\.php$
RewriteRule ^(.*)$ public/$1 [QSA,L]

# Sécurité - Empêcher l'accès aux fichiers sensibles
<Files "*.env">
    Require all denied
</Files>

<Files "*.log">
    Require all denied
</Files>

# Empêcher l'accès aux dossiers sensibles
<IfModule mod_rewrite.c>
    RewriteRule ^(app|config|core|database|docs|scripts|themes|uploads)/ - [F,L]
</IfModule>
