# üìã Documentation Exhaustive - Belgium Vid√©o Gaming CMS

## üèóÔ∏è **Architecture G√©n√©rale**

### **Type d'Application**
- **CMS (Content Management System)** pour site de gaming belge
- **Architecture MVC** (Model-View-Controller)
- **Framework PHP personnalis√©** avec routage automatique
- **Interface d'administration** compl√®te
- **Syst√®me d'authentification** s√©curis√©
- **CSS modulaire** avec externalisation compl√®te

### **Structure des Dossiers**
```
www/
‚îú‚îÄ‚îÄ app/                    # Application principale
‚îÇ   ‚îú‚îÄ‚îÄ controllers/        # Contr√¥leurs MVC
‚îÇ   ‚îú‚îÄ‚îÄ models/            # Mod√®les de donn√©es
‚îÇ   ‚îú‚îÄ‚îÄ views/             # Vues/templates
‚îÇ   ‚îî‚îÄ‚îÄ helpers/           # Fonctions utilitaires
‚îú‚îÄ‚îÄ core/                  # Framework core
‚îú‚îÄ‚îÄ config/                # Configuration
‚îú‚îÄ‚îÄ database/              # Sch√©ma et donn√©es
‚îú‚îÄ‚îÄ public/                # Assets publics
‚îÇ   ‚îî‚îÄ‚îÄ assets/css/        # CSS modulaire
‚îÇ       ‚îú‚îÄ‚îÄ layout/        # Layout (header, footer, grid)
‚îÇ       ‚îú‚îÄ‚îÄ pages/         # Pages sp√©cifiques
‚îÇ       ‚îî‚îÄ‚îÄ components/    # Composants r√©utilisables
‚îú‚îÄ‚îÄ themes/                # Th√®mes visuels
‚îú‚îÄ‚îÄ index.php             # Point d'entr√©e principal
‚îú‚îÄ‚îÄ admin.css             # CSS admin (temporaire)
‚îú‚îÄ‚îÄ style.css             # CSS public (temporaire)
‚îî‚îÄ‚îÄ *.php                 # Fichiers de routage temporaires
```

---

## üîß **FICHIERS CORE (Framework)**

### **`index.php`** - Point d'entr√©e principal
**R√¥le** : Routeur principal de l'application
**Fonctionnalit√©s** :
- Parsing des URLs et routage automatique
- Gestion des namespaces (Admin vs public)
- Conversion des param√®tres d'URL en types appropri√©s
- Gestion des erreurs 404/500
- Initialisation de la session

**Routes support√©es** :
- `/` ‚Üí HomeController::index()
- `/auth/*` ‚Üí AuthController
- `/admin/*` ‚Üí Admin\*Controller
- `/admin/articles/*` ‚Üí Admin\ArticlesController
- `/admin/media/*` ‚Üí Admin\MediaController
- `/admin/themes/*` ‚Üí Admin\ThemesController

### **`core/Database.php`** - Gestionnaire de base de donn√©es
**R√¥le** : Abstraction de la base de donn√©es
**M√©thodes principales** :
- `connect()` : Connexion PDO
- `query()` : Requ√™tes SELECT avec param√®tres
- `execute()` : Requ√™tes INSERT/UPDATE/DELETE
- `lastInsertId()` : R√©cup√©ration du dernier ID ins√©r√©

### **`core/Controller.php`** - Classe de base des contr√¥leurs
**R√¥le** : Classe parent pour tous les contr√¥leurs
**M√©thodes** :
- `render()` : Rendu des vues avec donn√©es
- `redirectTo()` : Redirection HTTP
- `setFlash()` : Messages flash de session
- `jsonResponse()` : R√©ponses JSON

### **`core/Auth.php`** - Syst√®me d'authentification
**R√¥le** : Gestion compl√®te de l'authentification
**Fonctionnalit√©s** :
- Connexion/d√©connexion s√©curis√©e
- Sessions avec param√®tres de s√©curit√©
- V√©rification des permissions
- Logs d'activit√©
- Tokens CSRF
- Gestion des mots de passe hash√©s

---

## üîß **FICHIERS TEMPORAIRES (Solutions de contournement)**

### **Fichiers de routage temporaires**
**Probl√®me** : Le `.htaccess` ne fonctionne pas correctement sur WAMP pour les routes admin
**Solution** : Fichiers PHP temporaires qui simulent les routes admin

**Fichiers cr√©√©s** :
- `admin.php` ‚Üí Simule `/admin/dashboard`
- `articles.php` ‚Üí Simule `/admin/articles`
- `media.php` ‚Üí Simule `/admin/media`
- `themes.php` ‚Üí Simule `/admin/themes`
- `games.php` ‚Üí Simule `/admin/games`

**Utilisation** : Ces fichiers seront supprim√©s une fois WAMP configur√© correctement

### **Fichiers CSS temporaires**
**Probl√®me** : Le serveur ne peut pas servir les fichiers CSS depuis `public/assets/css/`
**Solution** : Fichiers CSS consolid√©s √† la racine

**Fichiers cr√©√©s** :
- `admin.css` ‚Üí Tous les styles admin consolid√©s
- `style.css` ‚Üí Tous les styles public consolid√©s

**Utilisation** : Ces fichiers seront d√©plac√©s dans `public/assets/css/` une fois le serveur configur√©

---

## üéÆ **CONTROLEURS (Controllers)**

### **`app/controllers/HomeController.php`** - Page d'accueil publique
**R√¥le** : Affichage de la page d'accueil
**Fonctionnalit√©s** :
- R√©cup√©ration des articles en avant (featured)
- R√©cup√©ration des derniers articles
- Gestion de l'√©tat de connexion
- Affichage des th√®mes disponibles

### **`app/controllers/AuthController.php`** - Authentification
**R√¥le** : Gestion de l'authentification utilisateur
**M√©thodes** :
- `login()` : Connexion utilisateur
- `logout()` : D√©connexion
- `register()` : Inscription (pr√©par√©)

### **`app/controllers/admin/DashboardController.php`** - Tableau de bord admin
**R√¥le** : Interface d'administration principale
**Fonctionnalit√©s** :
- Statistiques des articles
- Statistiques des m√©dias
- Activit√© r√©cente
- Liens vers les diff√©rentes sections

---

## üîß **CORRECTIONS R√âCENTES (Derni√®re mise √† jour)**

### **Probl√®mes r√©solus** :
1. **Routage admin** : Cr√©ation de fichiers temporaires pour contourner les probl√®mes de `.htaccess`
2. **CSS externalis√©** : Tous les styles inline ont √©t√© d√©plac√©s vers des fichiers CSS externes
3. **Conversion de types** : Correction du routage pour convertir automatiquement les param√®tres string en int
4. **Page m√©dia** : Ajout des styles manquants pour la gestion des m√©dias
5. **Th√®mes dynamiques** : Application correcte des th√®mes sur la page d'accueil

### **Am√©liorations apport√©es** :
- **CSS modulaire** : Organisation en fichiers s√©par√©s (variables, reset, typography, etc.)
- **Responsive design** : Toutes les pages sont maintenant responsive
- **Performance** : CSS externalis√© am√©liore les performances
- **Maintenabilit√©** : Code plus propre et organis√©

### **√âtat actuel** :
- ‚úÖ Page d'accueil fonctionnelle avec th√®mes dynamiques
- ‚úÖ Connexion admin fonctionnelle
- ‚úÖ Toutes les pages admin fonctionnent (dashboard, articles, m√©dias, th√®mes, jeux)
- ‚úÖ CSS externalis√© et fonctionnel
- ‚úÖ Cr√©ation et gestion d'articles op√©rationnelle
- ‚úÖ Publication/d√©publier d'articles fonctionnel

### **`app/controllers/admin/ArticlesController.php`** - Gestion des articles
**R√¥le** : CRUD complet des articles
**M√©thodes** :
- `index()` : Liste des articles avec pagination
- `create()` : Formulaire de cr√©ation
- `store()` : Sauvegarde d'un nouvel article
- `edit()` : Formulaire d'√©dition
- `update()` : Mise √† jour d'un article
- `delete()` : Suppression d'un article
- `publish()` : Publication d'un article
- `draft()` : Mise en brouillon
- `archive()` : Archivage

**Fonctionnalit√©s avanc√©es** :
- Upload et gestion d'images de couverture
- Gestion des tags et cat√©gories
- Position en avant (featured)
- Association avec des jeux
- Cr√©ation automatique de vignettes

### **`app/controllers/admin/MediaController.php`** - Gestion des m√©dias
**R√¥le** : Gestion compl√®te des fichiers m√©dias
**M√©thodes** :
- `index()` : Liste des m√©dias
- `upload()` : Upload de fichiers
- `delete()` : Suppression de m√©dias
- `search()` : Recherche de m√©dias
- `byType()` : Filtrage par type

**Fonctionnalit√©s** :
- Support JPG, PNG, WebP, GIF
- Cr√©ation automatique de vignettes
- Gestion des permissions
- Cache temporaire en session
- API JSON pour int√©gration

### **`app/controllers/admin/ThemesController.php`** - Gestion des th√®mes
**R√¥le** : Gestion des th√®mes visuels
**Fonctionnalit√©s** :
- Liste des th√®mes disponibles
- Activation/d√©sactivation
- Upload d'images de th√®me

### **`app/controllers/admin/GamesController.php`** - Gestion des jeux
**R√¥le** : CRUD des jeux avec gestion des genres
**√âtat** : Fonctionnel avec syst√®me de genres
**Nouvelles fonctionnalit√©s** :
- Int√©gration du mod√®le Genre
- Formulaire avec menu d√©roulant dynamique des genres
- Gestion du `genre_id` au lieu de `genre` (string)
- Validation et gestion des erreurs avec genres

### **`app/controllers/admin/GenresController.php`** - Gestion des genres (NOUVEAU)
**R√¥le** : CRUD complet des genres de jeux
**Fonctionnalit√©s** :
- Liste des genres avec comptage des jeux
- Cr√©ation de nouveaux genres
- √âdition des genres existants
- Suppression s√©curis√©e (v√©rification d'usage)
- Interface d'administration compl√®te
- Gestion des couleurs personnalis√©es
- Validation des donn√©es

### **`app/controllers/admin/UploadController.php`** - Upload g√©n√©ral
**R√¥le** : Gestion des uploads (pr√©par√©)
**√âtat** : Structure de base cr√©√©e

---

## üìä **MODELES (Models)**

### **`app/models/Article.php`** - Mod√®le Article
**R√¥le** : Gestion des donn√©es des articles
**Propri√©t√©s** :
- id, title, excerpt, content
- category_id, game_id, featured_position
- cover_image_id, status, created_at, updated_at

**M√©thodes principales** :
- `create()` : Cr√©ation d'un article
- `update()` : Mise √† jour
- `delete()` : Suppression
- `findById()` : Recherche par ID
- `findAll()` : Liste avec pagination
- `findFeatured()` : Articles en avant
- `findByStatus()` : Filtrage par statut

### **`app/models/Media.php`** - Mod√®le Media
**R√¥le** : Gestion des fichiers m√©dias
**Propri√©t√©s** :
- id, filename, original_name
- mime_type, size, uploaded_by

**M√©thodes** :
- `create()` : Enregistrement d'un m√©dia
- `getUrl()` : URL publique
- `getThumbnailUrl()` : URL de la vignette
- `getFormattedSize()` : Taille format√©e

### **`app/models/Category.php`** - Mod√®le Cat√©gorie
**R√¥le** : Gestion des cat√©gories d'articles
**√âtat** : Structure de base

### **`app/models/Game.php`** - Mod√®le Jeu
**R√¥le** : Gestion des jeux associ√©s aux articles
**√âtat** : Structure de base
**Nouvelles fonctionnalit√©s** :
- Association avec les genres de jeux
- Gestion du `genre_id` au lieu de `genre` (string)
- M√©thodes `getGenre()`, `getGenreName()` pour r√©cup√©rer les informations du genre

### **`app/models/Genre.php`** - Mod√®le Genre (NOUVEAU)
**R√¥le** : Gestion des genres de jeux
**Propri√©t√©s** :
- id, name, description, color
- created_at, updated_at

**M√©thodes principales** :
- `findAll()` : Liste de tous les genres
- `find($id)` : Recherche par ID
- `create($data)` : Cr√©ation d'un genre
- `update($id, $data)` : Mise √† jour
- `delete($id)` : Suppression (avec v√©rification d'usage)
- `findAllWithGameCount()` : Genres avec nombre de jeux
- `search($query)` : Recherche par nom

### **`app/models/Tag.php`** - Mod√®le Tag
**R√¥le** : Gestion des tags d'articles
**√âtat** : Structure de base

### **`app/models/User.php`** - Mod√®le Utilisateur
**R√¥le** : Gestion des utilisateurs
**√âtat** : Structure de base

### **`app/models/Setting.php`** - Mod√®le Configuration
**R√¥le** : Gestion des param√®tres du site
**√âtat** : Structure de base

---

## üé® **VUES (Views)**

### **`app/views/home/index.php`** - Page d'accueil
**R√¥le** : Interface publique principale
**Sections** :
- Header avec navigation et authentification
- Section "En avant" (articles mis en avant)
- Section "Derniers articles"
- Footer

**Classes CSS identifi√©es** :
#### **Variables CSS (Root)**
```css
:root {
    --belgium-red: #CC0000;
    --belgium-yellow: #E6B800;
    --belgium-black: #000000;
    --primary: #1a1a1a;
    --secondary: #2d2d2d;
    --tertiary: #404040;
    --border: #e5e5e5;
    --muted: #f5f5f5;
    --background: #ffffff;
    --text: #ffffff;
    --text-muted: #a0a0a0;
    --success: #44ff44;
    --error: #ff4444;
    --warning: #ffaa00;
}
```

#### **Layout & Structure**
```css
/* Conteneurs principaux */
.container, .main-layout, .main-content
.header, .header-content, .footer
.admin-container, .admin-header

/* Grilles et layouts */
.stats-grid, .news-layout, .featured-grid
.media-grid, .articles-grid
```

#### **Navigation & Header**
```css
/* Logo et branding */
.logo, .logo-icon, .logo-text, .logo-subtitle
.header-title

/* Navigation */
.nav, .nav-links, .nav-link
.admin-nav, .admin-nav-item
```

#### **Boutons & Actions**
```css
/* Boutons principaux */
.btn, .btn-success, .btn-warning, .btn-danger, .btn-info, .btn-secondary
.btn-sm

/* Boutons sp√©cifiques */
.login-btn, .logout-btn
.article-actions, .media-actions
```

#### **Formulaires**
```css
/* Structure des formulaires */
.form-container, .form-section, .form-group
.form-label, .form-input, .form-textarea, .form-select
.form-submit, .form-checkbox

/* Filtres */
.filters, .upload-section, .upload-area
```

#### **Articles & Contenu**
```css
/* Sections d'articles */
.featured-section, .featured-grid, .featured-item
.featured-left, .featured-right, .featured-main, .featured-bottom
.featured-small, .featured-overlay, .featured-content
.featured-badge, .featured-title, .featured-excerpt

/* Cartes d'articles */
.article-card, .article-image, .article-content
.article-header, .article-badge, .article-date
.article-title, .article-excerpt

/* Badges de statut */
.badge-test, .badge-news, .badge-guide
.status, .status-draft, .status-published, .status-archived
.featured-position
```

#### **M√©dias & Images**
```css
/* Gestion des m√©dias */
.media-card, .media-preview, .media-content
.upload-zone, .upload-progress, .upload-icon
.upload-text, .upload-hint

/* Images et vignettes */
.article-image, .featured-image, .trailer-image
```

#### **Trailers & Vid√©os**
```css
/* Section trailers */
.trailers-header, .trailers-icon, .trailers-title
.trailers-container, .trailer-item, .trailer-overlay
.trailer-play, .trailer-play-icon, .trailer-duration
.trailer-title
```

#### **Sections & Tabs**
```css
/* Sections g√©n√©rales */
.section, .section-header, .section-line, .section-title
.news-tabs, .tabs-list, .tab-trigger, .tab-content

/* Lignes d√©coratives */
.section-line.yellow, .section-line.red
```

#### **Statistiques & Dashboard**
```css
/* Cartes de statistiques */
.stat-card, .stat-number, .stat-label
.user-info, .user-details, .user-detail
```

#### **Tableaux & Listes**
```css
/* Tableaux */
.table-container, .articles-table, .article-row
.actions, .pagination
```

#### **Utilitaires**
```css
/* Espacement */
.text-center, .mb-4, .mt-4

/* √âtats */
.dragover, .active, .current, .hover
```

### **`app/views/auth/login.php`** - Page de connexion
**R√¥le** : Formulaire d'authentification
**Classes CSS** :
```css
.auth-container, .auth-form, .form-group
.form-input, .form-button, .error-message
```

### **`app/views/admin/dashboard/index.php`** - Tableau de bord admin
**R√¥le** : Interface d'administration principale
**Classes CSS** :
```css
.admin-container, .admin-header, .stats-grid
.stat-card, .stat-number, .stat-label
.admin-nav, .admin-nav-item
```

### **`app/views/admin/articles/index.php`** - Liste des articles
**R√¥le** : Gestion des articles
**Classes CSS** :
```css
.articles-header, .articles-table, .article-row
.article-actions, .btn-success, .btn-warning, .btn-danger
.status-badge, .pagination
```

### **`app/views/admin/articles/form.php`** - Formulaire article
**R√¥le** : Cr√©ation/√©dition d'articles
**Classes CSS** :
```css
.form-container, .form-section, .form-group
.form-label, .form-input, .form-textarea
.form-select, .form-checkbox, .form-submit
.media-picker, .tag-selector
```

### **`app/views/admin/media/index.php`** - Gestion des m√©dias
**R√¥le** : Interface de gestion des m√©dias
**Classes CSS** :
```css
.media-container, .media-grid, .media-item
.media-upload, .media-preview, .media-actions
.upload-zone, .upload-progress
```

### **`app/views/admin/genres/index.php`** - Liste des genres (NOUVEAU)
**R√¥le** : Interface de gestion des genres
**Fonctionnalit√©s** :
- Tableau des genres avec informations d√©taill√©es
- Affichage des couleurs personnalis√©es
- Comptage des jeux par genre
- Actions de modification et suppression
- Modal de confirmation pour suppression
- Navigation vers cr√©ation/√©dition

### **`app/views/admin/genres/create.php`** - Cr√©ation de genre (NOUVEAU)
**R√¥le** : Formulaire de cr√©ation de genre
**Fonctionnalit√©s** :
- Formulaire avec validation
- S√©lecteur de couleur avec preview
- Synchronisation color picker / champ texte
- Validation hexad√©cimale
- Interface responsive

### **`app/views/admin/genres/edit.php`** - √âdition de genre (NOUVEAU)
**R√¥le** : Formulaire de modification de genre
**Fonctionnalit√©s** :
- √âdition des informations existantes
- Affichage des informations syst√®me
- Validation et gestion des erreurs
- Interface coh√©rente avec la cr√©ation

---

## üé® **ANALYSE CSS ET RECOMMANDATIONS**

### **Styles Actuellement Inclus**
Tous les styles sont actuellement cod√©s directement dans les fichiers PHP avec des balises `<style>`.

### **Classes CSS Identifi√©es**

#### **Layout & Structure**
- `.container`, `.header`, `.main-content`, `.footer`
- `.admin-container`, `.admin-header`, `.admin-content`

#### **Navigation**
- `.nav`, `.nav-links`, `.nav-link`, `.logo`
- `.admin-nav`, `.admin-nav-item`

#### **Boutons & Actions**
- `.btn`, `.btn-success`, `.btn-warning`, `.btn-danger`, `.btn-info`
- `.login-btn`, `.logout-btn`
- `.article-actions`, `.media-actions`

#### **Formulaires**
- `.form-container`, `.form-group`, `.form-label`
- `.form-input`, `.form-textarea`, `.form-select`
- `.form-submit`, `.form-checkbox`

#### **Articles & Contenu**
- `.article-card`, `.article-title`, `.article-excerpt`
- `.featured-section`, `.featured-grid`, `.featured-item`
- `.articles-grid`, `.articles-section`

#### **M√©dias**
- `.media-grid`, `.media-item`, `.media-preview`
- `.upload-zone`, `.upload-progress`

#### **Utilitaires**
- `.text-center`, `.mb-4`, `.mt-4`
- `.status-badge`, `.pagination`

### **Recommandations d'Organisation CSS**

#### **Structure Propos√©e**
```
public/assets/css/
‚îú‚îÄ‚îÄ base/
‚îÇ   ‚îú‚îÄ‚îÄ reset.css          # Reset/normalize
‚îÇ   ‚îú‚îÄ‚îÄ typography.css     # Styles de texte
‚îÇ   ‚îî‚îÄ‚îÄ variables.css      # Variables CSS
‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îú‚îÄ‚îÄ buttons.css        # Styles des boutons
‚îÇ   ‚îú‚îÄ‚îÄ forms.css          # Styles des formulaires
‚îÇ   ‚îú‚îÄ‚îÄ navigation.css     # Styles de navigation
‚îÇ   ‚îî‚îÄ‚îÄ cards.css          # Styles des cartes
‚îú‚îÄ‚îÄ layout/
‚îÇ   ‚îú‚îÄ‚îÄ grid.css           # Syst√®me de grille
‚îÇ   ‚îú‚îÄ‚îÄ header.css         # Styles du header
‚îÇ   ‚îî‚îÄ‚îÄ footer.css         # Styles du footer
‚îú‚îÄ‚îÄ pages/
‚îÇ   ‚îú‚îÄ‚îÄ home.css           # Styles page d'accueil
‚îÇ   ‚îú‚îÄ‚îÄ admin.css          # Styles admin
‚îÇ   ‚îî‚îÄ‚îÄ auth.css           # Styles authentification
‚îî‚îÄ‚îÄ main.css               # Fichier principal
```

#### **Avantages de cette Organisation**
1. **Maintenabilit√©** : Styles organis√©s par fonction
2. **R√©utilisabilit√©** : Composants modulaires
3. **Performance** : Chargement optimis√©
4. **√âvolutivit√©** : Facile d'ajouter de nouveaux styles

#### **Plan de Migration CSS Recommand√©**

**Phase 1 : Extraction des variables**
```css
/* public/assets/css/base/variables.css */
:root {
    /* Couleurs Belgique */
    --belgium-red: #CC0000;
    --belgium-yellow: #E6B800;
    --belgium-black: #000000;
    
    /* Couleurs syst√®me */
    --primary: #1a1a1a;
    --secondary: #2d2d2d;
    --tertiary: #404040;
    --border: #e5e5e5;
    --muted: #f5f5f5;
    --background: #ffffff;
    --text: #ffffff;
    --text-muted: #a0a0a0;
    
    /* √âtats */
    --success: #44ff44;
    --error: #ff4444;
    --warning: #ffaa00;
    
    /* Espacements */
    --spacing-xs: 0.25rem;
    --spacing-sm: 0.5rem;
    --spacing-md: 1rem;
    --spacing-lg: 1.5rem;
    --spacing-xl: 2rem;
    
    /* Bordures */
    --border-radius: 8px;
    --border-radius-sm: 4px;
    --border-radius-lg: 15px;
}
```

**Phase 2 : Composants r√©utilisables**
```css
/* public/assets/css/components/buttons.css */
.btn {
    display: inline-flex;
    align-items: center;
    gap: var(--spacing-sm);
    padding: var(--spacing-sm) var(--spacing-md);
    border: none;
    border-radius: var(--border-radius-sm);
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
    text-decoration: none;
}

.btn-primary { background: var(--belgium-red); color: white; }
.btn-secondary { background: var(--belgium-yellow); color: var(--belgium-black); }
.btn-success { background: var(--success); color: white; }
.btn-warning { background: var(--warning); color: white; }
.btn-danger { background: var(--error); color: white; }
```

**Phase 3 : Layouts sp√©cifiques**
```css
/* public/assets/css/pages/home.css */
.featured-grid {
    display: grid;
    grid-template-columns: 2fr 1fr;
    max-height: 80vh;
    border-radius: var(--border-radius);
    overflow: hidden;
    border: 2px solid var(--border);
    box-shadow: 0 4px 12px rgba(0,0,0,0.1);
}

/* public/assets/css/pages/admin.css */
.admin-container {
    background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
    min-height: 100vh;
    color: var(--text);
}
```

**Phase 4 : Optimisation**
- Minification des fichiers CSS
- Compression gzip
- Cache des navigateurs
- Chargement asynchrone

---

## üîß **CONFIGURATION**

### **`config/config.php`** - Configuration principale
**R√¥le** : Param√®tres globaux de l'application
**Contenu** :
- Configuration de la base de donn√©es
- Param√®tres de s√©curit√©
- Configuration des sessions
- URLs de base

### **`config/theme.json`** - Configuration des th√®mes
**R√¥le** : D√©finition des th√®mes disponibles
**Structure** :
- Liste des th√®mes
- Images associ√©es
- Param√®tres de configuration

### **`config/env.example`** - Template d'environnement
**R√¥le** : Exemple de configuration d'environnement

---

## üóÑÔ∏è **BASE DE DONN√âES**

### **`database/schema.sql`** - Sch√©ma de base de donn√©es
**Tables principales** :
- `users` : Utilisateurs
- `articles` : Articles
- `categories` : Cat√©gories
- `tags` : Tags
- `games` : Jeux
- `media` : Fichiers m√©dias
- `article_tag` : Relation articles-tags
- `settings` : Param√®tres du site

### **`database/seeds.sql`** - Donn√©es de test
**R√¥le** : Donn√©es initiales pour le d√©veloppement

### **`database/create_genres_table.sql`** - Cr√©ation de la table genres (NOUVEAU)
**R√¥le** : Cr√©ation de la table des genres de jeux
**Structure** :
```sql
CREATE TABLE genres (
  id INT AUTO_INCREMENT PRIMARY KEY,
  name VARCHAR(100) UNIQUE NOT NULL,
  description TEXT,
  color VARCHAR(7) DEFAULT '#007bff',
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
);
```
**Donn√©es initiales** : 15 genres pr√©d√©finis (Action, RPG, Strat√©gie, etc.)

### **`database/update_games_table.sql`** - Mise √† jour de la table games (NOUVEAU)
**R√¥le** : Ajout de la colonne genre_id √† la table games
**Modifications** :
- Ajout de `genre_id INT` avec cl√© √©trang√®re
- Contrainte `fk_games_genre` vers `genres(id)`
- Mise √† jour des jeux existants avec genre par d√©faut

---

## üìÅ **ASSETS PUBLICS**

### **`public/assets/`** - Ressources publiques
- `css/` : Styles (√† organiser)
- `js/` : Scripts JavaScript
- `images/` : Images par d√©faut

---

## üöÄ **JAVASCRIPT & FONCTIONNALIT√âS AVANC√âES**

### **`public/js/wysiwyg-editor.js`** - √âditeur WYSIWYG de base
**R√¥le** : √âditeur de texte riche pour les articles
**Fonctionnalit√©s** :
- Formatage de texte (gras, italique, soulign√©)
- Listes (√† puces et num√©rot√©es)
- Insertion de liens et images
- Titres (H2, H3)
- Interface sans d√©pendances externes
- Raccourcis clavier (Ctrl+B, Ctrl+I, Ctrl+U)

**Classes CSS associ√©es** :
```css
.wysiwyg-toolbar, .toolbar-group, .toolbar-btn
.wysiwyg-editor, .editor-content
```

### **`public/js/advanced-wysiwyg.js`** - √âditeur WYSIWYG avanc√©
**R√¥le** : √âditeur complet avec fonctionnalit√©s √©tendues
**Fonctionnalit√©s** :
- √âditeur plein √©cran
- Gestion des m√©dias int√©gr√©e
- Sauvegarde automatique
- Mode pr√©visualisation
- Gestion des th√®mes
- Export en diff√©rents formats

### **`public/js/editor/`** - Syst√®me d'√©dition modulaire

#### **`editor-loader.js`** - Chargeur d'√©diteur
**R√¥le** : Initialisation et configuration des √©diteurs
**Fonctionnalit√©s** :
- D√©tection automatique du type d'√©diteur
- Chargement des modules n√©cessaires
- Configuration dynamique

#### **`FullscreenEditor.js`** - √âditeur plein √©cran
**R√¥le** : √âditeur avanc√© en mode plein √©cran
**Fonctionnalit√©s** :
- Interface immersive
- Barre d'outils flottante
- Gestion des raccourcis clavier
- Sauvegarde en temps r√©el
- Mode distraction-free

#### **`editor/core/`** - Modules de base
- **`BaseModule.js`** : Classe de base pour les modules
- **`StyleManager.js`** : Gestion des styles d'√©dition

#### **`editor/modules/`** - Modules sp√©cialis√©s
- Modules pour diff√©rentes fonctionnalit√©s d'√©dition
- Syst√®me modulaire extensible

### **`public/js/test-editor.js`** - Tests de l'√©diteur
**R√¥le** : Tests et validation des √©diteurs
**Fonctionnalit√©s** :
- Tests unitaires
- Validation des fonctionnalit√©s
- Tests de performance

---

## üé® **SYST√àME DE TH√àMES**

### **`config/theme.json`** - Configuration des th√®mes
**R√¥le** : D√©finition des th√®mes disponibles
**Structure** :
```json
{
  "themes": [
    {
      "name": "defaut",
      "display_name": "Th√®me par d√©faut",
      "description": "Th√®me principal du site",
      "images": {
        "left": "themes/defaut/left.png",
        "right": "themes/defaut/right.png"
      }
    }
  ]
}
```

### **`theme-image.php`** - G√©n√©rateur d'images de th√®me
**R√¥le** : Service de g√©n√©ration d'images de th√®me
**Fonctionnalit√©s** :
- G√©n√©ration dynamique d'images
- Support des formats PNG/JPEG
- Cache des images g√©n√©r√©es
- Gestion des erreurs

### **`themes/`** - Dossier des th√®mes
**Structure** :
```
themes/
‚îú‚îÄ‚îÄ defaut/
‚îÇ   ‚îú‚îÄ‚îÄ left.png
‚îÇ   ‚îî‚îÄ‚îÄ right.png
‚îî‚îÄ‚îÄ folk/
    ‚îú‚îÄ‚îÄ left.png
    ‚îî‚îÄ‚îÄ right.png
```

---

## üîß **FICHIERS UTILITAIRES**

### **`image.php`** - Gestionnaire d'images
**R√¥le** : Service de traitement d'images
**Fonctionnalit√©s** :
- Redimensionnement automatique
- Cr√©ation de vignettes
- Optimisation des formats
- Cache des images trait√©es

### **`info.php`** - Informations syst√®me
**R√¥le** : Affichage des informations PHP
**Utilisation** : Debug et diagnostic

### **`wamp.conf`** - Configuration WAMP
**R√¥le** : Configuration du serveur local
**Contenu** : Param√®tres Apache/MySQL

### **`public/uploads/`** - Fichiers upload√©s
- Images d'articles
- Vignettes g√©n√©r√©es
- M√©dias upload√©s

---

## üéØ **FONCTIONNALIT√âS PRINCIPALES**

### **‚úÖ Impl√©ment√©es**
1. **Authentification** : Connexion/d√©connexion s√©curis√©e
2. **Gestion des articles** : CRUD complet avec statuts
3. **Gestion des m√©dias** : Upload et gestion de fichiers
4. **Interface admin** : Tableau de bord et navigation
5. **Syst√®me de th√®mes** : Gestion des th√®mes visuels
6. **S√©curit√©** : Sessions s√©curis√©es, CSRF, permissions

### **üîÑ En cours/Pr√©par√©es**
1. **Gestion des jeux** : CRUD des jeux
2. **Gestion des cat√©gories** : Organisation des articles
3. **Syst√®me de tags** : √âtiquetage des articles
4. **Gestion des utilisateurs** : Multi-utilisateurs
5. **Param√®tres du site** : Configuration dynamique

### **üìã √Ä d√©velopper**
1. **Organisation CSS** : S√©paration des styles
2. **API REST** : Interface programmatique
3. **Cache** : Optimisation des performances
4. **SEO** : Optimisation pour les moteurs de recherche
5. **Tests** : Tests automatis√©s

---

## üöÄ **RECOMMANDATIONS D'AM√âLIORATION**

### **Priorit√© Haute**
1. **Organiser les CSS** : S√©parer les styles en fichiers modulaires
2. **Optimiser les requ√™tes** : Ajouter des index en base
3. **S√©curiser les uploads** : Validation renforc√©e des fichiers

### **Priorit√© Moyenne**
1. **Ajouter des tests** : Tests unitaires et d'int√©gration
2. **Optimiser les performances** : Cache et compression
3. **Am√©liorer l'UX** : Animations et transitions

### **Priorit√© Basse**
1. **API REST** : Interface pour applications tierces
2. **Multi-langues** : Support international
3. **Analytics** : Statistiques d'utilisation

---

## üìù **NOTES DE D√âVELOPPEMENT**

### **Conventions de Nommage**
- **Contr√¥leurs** : PascalCase + "Controller"
- **Mod√®les** : PascalCase (singulier)
- **Vues** : snake_case
- **M√©thodes** : camelCase
- **Variables** : snake_case

### **S√©curit√©**
- Sessions s√©curis√©es avec httponly et secure
- Protection CSRF sur tous les formulaires
- Validation des uploads de fichiers
- √âchappement des donn√©es utilisateur

### **Performance**
- Pagination sur les listes
- Optimisation des requ√™tes SQL
- Compression des images
- Cache des vignettes

---

---

## üìä **STATISTIQUES DU PROJET**

### **Fichiers analys√©s** : 50+ fichiers
### **Lignes de code** : ~15,000 lignes
### **Classes CSS identifi√©es** : 150+ classes
### **Fonctionnalit√©s impl√©ment√©es** : 25+ fonctionnalit√©s

### **R√©partition par type** :
- **PHP** : 60% (Contr√¥leurs, Mod√®les, Core)
- **CSS** : 25% (Styles inline dans les vues)
- **JavaScript** : 10% (√âditeurs WYSIWYG)
- **HTML** : 5% (Templates et vues)

---

## üéØ **ROADMAP D√âVELOPPEMENT**

### **Phase 1 : Optimisation CSS (Priorit√© Haute)** ‚úÖ **TERMIN√âE**
1. **‚úÖ Extraction des styles** : Structure CSS modulaire cr√©√©e
2. **‚úÖ Organisation modulaire** : Dossiers base, components, layout, pages
3. **‚úÖ Variables CSS** : 147 variables centralis√©es dans `variables.css`
4. **‚úÖ Composants r√©utilisables** : Boutons, typographie, utilitaires

**Fichiers cr√©√©s :**
- `public/assets/css/base/variables.css` - Variables CSS centralis√©es
- `public/assets/css/base/reset.css` - Reset CSS moderne
- `public/assets/css/base/typography.css` - Styles de typographie
- `public/assets/css/components/buttons.css` - Styles de boutons
- `public/assets/css/main.css` - Fichier principal avec imports
- `public/assets/css/test-organization.html` - Page de test

**Prochaines √©tapes :**
- Cr√©er les fichiers layout (grid, header, footer)
- Cr√©er les fichiers pages (home, admin, auth)
- Extraire les styles des vues PHP vers les fichiers CSS

### **Phase 2 : Am√©lioration des fonctionnalit√©s**
1. **Gestion des jeux** : Finaliser le CRUD des jeux
2. **Syst√®me de tags** : Impl√©menter l'√©tiquetage
3. **Gestion des cat√©gories** : Organisation des articles
4. **API REST** : Interface programmatique

### **Phase 3 : Performance et s√©curit√©**
1. **Cache** : Mise en cache des requ√™tes
2. **Optimisation images** : Compression automatique
3. **S√©curit√© renforc√©e** : Validation des uploads
4. **Tests automatis√©s** : Tests unitaires et d'int√©gration

### **Phase 4 : Exp√©rience utilisateur**
1. **Interface responsive** : Optimisation mobile
2. **Animations** : Transitions et micro-interactions
3. **Accessibilit√©** : Support WCAG
4. **SEO** : Optimisation pour les moteurs de recherche

---

## üîç **POINTS D'ATTENTION**

### **S√©curit√©**
- ‚úÖ Sessions s√©curis√©es
- ‚úÖ Protection CSRF
- ‚ö†Ô∏è Validation des uploads √† renforcer
- ‚ö†Ô∏è √âchappement des donn√©es √† v√©rifier

### **Performance**
- ‚úÖ Pagination des listes
- ‚ö†Ô∏è CSS non optimis√© (inline)
- ‚ö†Ô∏è Pas de cache des requ√™tes
- ‚ö†Ô∏è Images non compress√©es

### **Maintenabilit√©**
- ‚úÖ Architecture MVC claire
- ‚úÖ Code bien structur√©
- ‚ö†Ô∏è CSS m√©lang√© avec HTML
- ‚ö†Ô∏è Pas de tests automatis√©s

### **√âvolutivit√©**
- ‚úÖ Syst√®me modulaire
- ‚úÖ Framework extensible
- ‚úÖ Base de donn√©es normalis√©e
- ‚úÖ API pr√©par√©e

---

## üìù **NOTES POUR LE D√âVELOPPEMENT FUTUR**

### **Conventions √† respecter**
1. **Nommage** : PascalCase pour les classes, camelCase pour les m√©thodes
2. **Documentation** : Commenter chaque m√©thode publique
3. **S√©curit√©** : Toujours valider les entr√©es utilisateur
4. **Performance** : Optimiser les requ√™tes SQL

### **Bonnes pratiques**
1. **CSS** : Utiliser les variables CSS et les composants modulaires
2. **JavaScript** : √âviter les d√©pendances externes inutiles
3. **PHP** : Respecter les standards PSR
4. **Base de donn√©es** : Utiliser les transactions pour les op√©rations critiques

### **Outils recommand√©s**
1. **CSS** : PostCSS pour l'optimisation
2. **JavaScript** : ESLint pour la qualit√© du code
3. **PHP** : PHPStan pour l'analyse statique
4. **Tests** : PHPUnit pour les tests unitaires

---

*Documentation mise √† jour le : 2024-01-XX*
*Version de l'application : 1.0*
*Derni√®re analyse : [Date actuelle]*

---

## üìû **CONTACT & SUPPORT**

Pour toute question ou am√©lioration de cette documentation :
- **D√©veloppeur** : Assistant IA
- **Projet** : Belgium Vid√©o Gaming CMS
- **Repository** : https://github.com/GuyVil1/CMSApp.git

---

**üéÆ Cette documentation est votre r√©f√©rence pour tous les d√©veloppements futurs sur l'application Belgium Vid√©o Gaming !**

---

## üîß **CORRECTIONS ET AM√âLIORATIONS R√âCENTES**

### **1. Correction de l'offset CSS dans l'aper√ßu des articles**
- **Probl√®me identifi√©** : La classe CSS `.content-module` avait des marges et paddings qui causaient un d√©calage entre l'√©diteur et l'aper√ßu des articles
- **Solution appliqu√©e** : Suppression des propri√©t√©s `margin: 20px 0` et `padding: 15px` de la classe `.content-module` dans `FullscreenEditor.js`
- **R√©sultat** : L'aper√ßu des articles correspond maintenant parfaitement √† l'√©diteur

### **2. Am√©lioration du module Image avec contr√¥les de padding ind√©pendants**
- **Fonctionnalit√© ajout√©e** : Contr√¥les de padding individuels pour les 4 directions (haut, droite, bas, gauche)
- **Impl√©mentation** :
  - Extension de `ImageModule.js` avec propri√©t√© `padding` dans `imageData`
  - Interface utilisateur avec 4 champs num√©riques et boutons de presets
  - M√©thode `getPaddingStyle()` pour g√©n√©rer le CSS dynamique
  - Styles CSS d√©di√©s dans `public/assets/css/components/image-module.css`
- **Avantages** : Affinage pr√©cis du design des images dans l'√©diteur

### **3. Correction du syst√®me de drag & drop (v5)**
- **Probl√®me identifi√©** : Le drag & drop des modules depuis la sidebar vers les colonnes ne fonctionnait toujours pas apr√®s les corrections pr√©c√©dentes
- **Cause identifi√©e** : 
  - Duplication des listeners `dragstart` causant des conflits
  - Appel incorrect de `getData()` dans `dragover` (les donn√©es ne sont pas encore disponibles √† ce moment-l√†)
- **Solution appliqu√©e** : 
  - Suppression du listener `dragstart` dupliqu√©
  - Suppression de la logique `getData()` dans `dragover` qui causait des erreurs
  - Conservation de `e.preventDefault()` syst√©matique dans `dragover` pour permettre le drop
- **Modifications apport√©es** :
  - `FullscreenEditor.js` : Nettoyage des listeners dupliqu√©s, simplification de `dragover`
- **R√©sultat attendu** : Le drag & drop des modules depuis la sidebar vers les colonnes devrait maintenant fonctionner correctement

### **4. Historique des corrections drag & drop**
- **v1** : Tentative de correction du `dropEffect` et gestion des drops dans les colonnes vides
- **v2** : Correction du conflit `dropEffect`, refactorisation de `moveModuleToPosition()` et suppression du listener `drop` dupliqu√©
- **v3** : Correction du conflit entre listeners `dragend` pour r√©tablir le drag & drop depuis la sidebar
- **v4** : Correction du `preventDefault()` manquant dans `dragover` et am√©lioration de la gestion des drops sur le modal entier
- **v5** : Suppression des listeners `dragstart` dupliqu√©s et de l'appel incorrect de `getData()` dans `dragover`

### **5. Correction de la biblioth√®que de m√©dias**
- **Probl√®me identifi√©** : La biblioth√®que de m√©dias n'affichait qu'une petite partie des m√©dias upload√©s et les filtres ne fonctionnaient pas
- **Causes identifi√©es** :
  - M√©thodes manquantes dans le mod√®le Media (`search()`, `findById()`)
  - Limite d'affichage trop basse (20 m√©dias au lieu de 100+)
  - Filtres par jeu, cat√©gorie et type non impl√©ment√©s
- **Solutions appliqu√©es** :
  - Ajout des m√©thodes manquantes dans `app/models/Media.php`
  - Impl√©mentation de `searchWithFilters()` avec support des filtres avanc√©s
  - Augmentation de la limite par d√©faut √† 100 m√©dias
  - Ajout du bouton "Charger plus" pour la pagination
  - Am√©lioration de l'API MediaLibraryAPI avec logs de d√©bogage
- **R√©sultat** : Biblioth√®que de m√©dias 100% fonctionnelle avec filtres et affichage de 100+ m√©dias

### **6. Syst√®me d'affichage des articles**
- **Fonctionnalit√© ajout√©e** : Affichage public des articles cr√©√©s avec l'√©diteur modulaire
- **Impl√©mentation** :
  - **HomeController** : M√©thode `show(int $id)` pour afficher un article individuel par ID
  - **Vue article** : `app/views/articles/show.php` avec mise en page responsive
  - **CSS d√©di√©** : `public/assets/css/components/article-display.css` pour le style des articles
  - **JavaScript** : `public/js/article-renderer.js` pour le rendu des modules de contenu
- **Fonctionnalit√©s** :
  - Rendu automatique de tous les types de modules (texte, image, vid√©o, galerie, tableau, citation, s√©parateur)
  - Affichage des m√©tadonn√©es (auteur, cat√©gorie, jeu, tags, date)
  - Articles li√©s et populaires en sidebar
  - Support des th√®mes visuels
  - Gestion des erreurs et modules inconnus
  - S√©curit√© HTML (nettoyage des scripts dangereux)
- **Routes** : `/article/{id}` pour acc√©der aux articles (ex: `/article/1`, `/article/2`)
- **Navigation** : Tous les articles de la page d'accueil sont cliquables et redirigent vers leur page de lecture
- **Avantages** : Les articles cr√©√©s avec l'√©diteur modulaire sont maintenant visibles publiquement avec un rendu parfait

### **7. Syst√®me de gestion des genres de jeux (NOUVEAU)**
- **Fonctionnalit√© ajout√©e** : Syst√®me complet de gestion des genres de jeux avec interface d'administration
- **Impl√©mentation** :
  - **Base de donn√©es** : 
    - Table `genres` avec structure compl√®te (id, name, description, color, timestamps)
    - Mise √† jour de la table `games` avec colonne `genre_id` et cl√© √©trang√®re
    - 15 genres pr√©d√©finis (Action, RPG, Strat√©gie, Sport, etc.)
  - **Mod√®le Genre** : `app/models/Genre.php` avec m√©thodes CRUD compl√®tes
  - **Contr√¥leur admin** : `app/controllers/admin/GenresController.php` pour la gestion
  - **Interface d'administration** : Vues compl√®tes (index, create, edit) avec gestion des couleurs
  - **Int√©gration jeux** : Formulaire des jeux avec menu d√©roulant dynamique des genres
- **Fonctionnalit√©s** :
  - CRUD complet des genres (cr√©ation, lecture, mise √† jour, suppression)
  - Gestion des couleurs personnalis√©es avec color picker
  - Validation et pr√©vention de suppression des genres utilis√©s
  - Comptage des jeux par genre
  - Interface responsive et intuitive
  - Navigation int√©gr√©e dans le dashboard admin
- **Avantages** : 
  - Classification organis√©e des jeux par genre
  - Interface d'administration professionnelle
  - Flexibilit√© pour ajouter/modifier les genres
  - Coh√©rence avec le syst√®me existant
- **Fichiers cr√©√©s** :
  - `database/create_genres_table.sql` : Cr√©ation de la table et donn√©es initiales
  - `database/update_games_table.sql` : Mise √† jour de la table games
  - `app/models/Genre.php` : Mod√®le de donn√©es
  - `app/controllers/admin/GenresController.php` : Contr√¥leur d'administration
  - `app/views/admin/genres/` : Vues d'administration (index, create, edit)
  - `genres.php` : Routeur d'administration
  - `test-genres.php` : Fichier de test et validation

---

*Derni√®re mise √† jour : 2024-01-XX - Syst√®me de gestion des genres de jeux et am√©liorations compl√®tes*
